# 工厂模式

### **三者的区别**

|特性|简单工厂模式|工厂方法模式|抽象工厂模式|
| ------| ----------------------------| --------------------------------| --------------------------------|
|**定义**|一个工厂类根据参数创建对象|定义工厂接口，子类实现具体创建|创建一组相关对象的工厂接口|
|**复杂度**|低|中|高|
|**扩展性**|差（修改工厂类）|好（新增工厂子类）|好（新增工厂），但产品扩展困难|
|**类数量**|少|中（每产品一个工厂）|多（每产品家族多个类）|
|**适用场景**|简单系统，类型少|需要高扩展性的系统|创建相关对象家族|
|**开闭原则**|不完全符合|符合|符合（但产品扩展需改接口）|
|**客户端职责**|传递类型参数|选择具体工厂|选择工厂并使用产品家族|

#### **详细区别**

1. **简单工厂模式**：

    - 工厂类集中所有创建逻辑，客户端通过参数选择产品。
    - 适合小型系统，但扩展需要修改工厂代码。
    - 示例：支付系统选择微信或支付宝。
2. **工厂方法模式**：

    - 每个产品对应一个工厂，创建逻辑分散到子类。
    - 适合需要频繁扩展的系统，新增产品无需改现有代码。
    - 示例：数据库连接器为 MySQL、PostgreSQL 创建工厂。
3. **抽象工厂模式**：

    - 处理一组相关产品，强调产品家族的协同性。
    - 适合复杂系统，需保证产品组合一致性。
    - 示例：跨平台 UI 组件（如 Windows 按钮和文本框）。

---

### **优劣势对比**

|模式|优点|缺点|
| ------| ----------------------------------------------------| ------------------------------------------|
|**简单工厂**|简单易用、逻辑集中、适合小型系统|违反开闭原则、工厂职责过重、扩展性差|
|**工厂方法**|符合开闭原则、扩展性好、职责分散|类数量增加、客户端需选择工厂、复杂度稍高|
|**抽象工厂**|保证产品家族一致性、高扩展性（新增家族）、封装性好|结构复杂、产品扩展困难、代码量大|

---

### **总结**

- **简单工厂模式**：适合小型、类型较少且扩展需求低的场景，代码简单但扩展性差。
- **工厂方法模式**：适合需要高扩展性的系统，新增产品只需增加工厂和产品类，符合开闭原则。
- **抽象工厂模式**：适合需要创建一组相关对象的复杂场景，强调产品家族的协同性，但扩展新产品类型较困难。 选择哪种模式取决于系统的规模、扩展需求和产品复杂度。简单工厂适合快速开发，工厂方法适合扩展性要求高的场景，抽象工厂适合需要管理多个相关产品家族的复杂系统。

‍
